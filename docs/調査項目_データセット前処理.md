# 調査項目: データセット・前処理関連

## 1. MIR-1K アノテーション読み込み形式

### 質問内容
MIR-1K データセットのピッチ・有声無声アノテーションファイルの正確な形式と読み込み方法は？

### 背景
- 論文では評価に MIR-1K の 250 フレーズを使用
- 「provides pitch and voicing flag annotations for the vocals」とあるが具体的形式不明
- 評価指標（RPA, RCA, log-F0 RMSE, V/UV ER）計算に必要

### 調査ポイント
1. アノテーションファイル形式
   - テキストファイル？バイナリ？
   - 時間軸の単位（秒？フレーム？）
   - ピッチ値の単位（Hz？MIDI？）
2. 有声/無声フラグの表現方法
   - 0/1 バイナリ？
   - 無声部分のピッチ値（0？NaN？）
3. サンプリングレート・フレームシフトの対応
4. ファイル命名規則とディレクトリ構造

### 参考資料
- Hsu & Jang 2009: "On the improvement of singing voice separation for monaural recordings using the MIR-1K dataset"
- MIR-1K データセット公式ドキュメント
- 他の研究でのMIR-1K使用例

---

## 2. ノイズ付加の具体的手法（SNR -6dB）

### 質問内容
ノイズロバスト化（Section 2.6）で「randomly adding noise and changing the volume」とある処理の具体的実装方法は？

### 背景
- 論文 3.1節: "maximum SNR of -6 dB" でのノイズ付加
- C_aug 計算での音量変更も言及（±6dB）
- 白色ノイズ以外の選択肢も検討が必要

### 調査ポイント
1. SNR -6dB の計算方法
   - 信号電力とノイズ電力の比率計算
   - RMS基準？Peak基準？
   - フレーム単位？全体？
2. ノイズの種類と生成方法
   - 白色ノイズ（デフォルト）
   - ピンクノイズ、ブラウンノイズ
   - 実環境ノイズの使用
3. 音量変更（±6dB）の実装
   - リニアスケーリング？
   - dB単位での正確な変換
4. バッチ内でのランダム性制御

### 参考資料
- 音響信号処理でのSNR計算手法
- 音声認識でのノイズ付加手法
- torchaudio.transforms でのデータ拡張

---

## 3. LibriTTS-R データセット処理

### 質問内容
LibriTTS-R データセット（585時間）の効率的な読み込みと前処理パイプラインの設計方法は？

### 背景
- 大規模データセット（585時間）の効率処理が必要
- 24kHz リサンプリング処理
- Dynamic batching との組み合わせ

### 調査ポイント
1. ファイル構造とメタデータ
   - ディレクトリ構成
   - ファイル命名規則
   - 話者ID、発話IDの抽出
2. 効率的な読み込み戦略
   - オンザフライ処理 vs 事前処理
   - マルチプロセシング対応
   - メモリ使用量の最適化
3. 24kHz リサンプリング
   - 元サンプリングレートの確認
   - 高品質リサンプリング手法
   - エイリアシング対策
4. データ分割（train/validation）

### 参考資料
- Koizumi et al. 2023: "LibriTTS-R: A restored multi-speaker text-to-speech corpus"
- 大規模音声データセット処理のベストプラクティス

---

## 4. データ拡張戦略の最適化

### 質問内容
SSL学習の効果を最大化するためのデータ拡張手法の組み合わせと適用頻度は？

### 背景
- ピッチシフト（±14 bins）がメイン手法
- ノイズ付加・音量変更が追加手法
- 過度な拡張による品質劣化の回避が必要

### 調査ポイント
1. ピッチシフト範囲の妥当性
   - ±14 bins（約±1.17 オクターブ）の根拠
   - 楽器・歌声での適用範囲
   - 境界処理の影響
2. 拡張手法の適用確率
   - 各手法の適用頻度
   - 複数手法の同時適用
   - 原音声の保持割合
3. SSL学習での拡張効果
   - 汎化性能への影響
   - 学習安定性の確保
   - 計算コストとの均衡

### 参考資料
- SSL音声処理でのデータ拡張手法
- SPICE, PESTO でのデータ拡張戦略
- 音楽情報検索でのピッチ拡張

---

## 5. 評価データ準備と前処理

### 質問内容
MIR-1K での評価実験（250フレーズ）の具体的なデータ選択基準と前処理手順は？

### 背景
- 「250 randomly selected phrases from the MIR-1K dataset」
- ベースライン（DIO, Harvest, PESTO, CREPE）との公正な比較が必要
- 評価指標の正確な計算

### 調査ポイント
1. フレーズ選択の基準
   - ランダム選択の再現性（seed固定）
   - 楽曲・歌手の分散
   - 長さの分布
2. 前処理の統一化
   - 24kHz リサンプリングの確認
   - 正規化処理の有無
   - 無音区間の処理
3. アノテーション品質の確認
   - 明らかな誤ラベルの除外
   - 不完全な有声無声ラベル
   - オクターブエラーの事前修正

### 参考資料
- MIR-1K を使用した他研究の評価手順
- ピッチ推定評価のベストプラクティス
- 音楽情報検索でのデータセット評価