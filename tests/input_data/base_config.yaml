dataset:
  train:
    audio_pathlist_path: "tests/data/test_data/train_audio_pathlist.txt"
    # SLASH論文準拠: 学習時はpitch_labelを使用しない（自己教師あり学習）
    pitch_label_pathlist_path: null
    root_dir: "tests/data/test_data"
  valid:
    audio_pathlist_path: "tests/data/test_data/valid_audio_pathlist.txt"
    pitch_label_pathlist_path: "tests/data/test_data/valid_pitch_pathlist.txt"
    root_dir: "tests/data/test_data"
  test_num: 16
  eval_times_num: 1
  seed: 42
  sample_rate: 24000
  frame_rate: 200.0
  frame_length: 480

  # ピッチシフト
  pitch_shift_range: 14

network:
  sample_rate: 24000

  # Pitch Encoder
  f0_bins: 1024
  bap_bins: 8
  hidden_size: 16 # NOTE: SLASH論文では512
  encoder_layers: 2 # NOTE: SLASH論文では6

  # CQT
  cqt_bins: 176
  cqt_total_bins: 205
  cqt_hop_length: 120
  cqt_bins_per_octave: 24
  cqt_fmin: 32.70
  cqt_filter_scale: 0.5

  # Pitch Guide Generator
  pitch_guide_window_size: 50
  pitch_guide_shs_n_max: 10
  pitch_guide_f_min: 20.0
  pitch_guide_f_max: 2000.0
  pitch_guide_n_fft: 1024

  # Pseudo Spectrogram Generator
  pseudo_spec_epsilon: 0.001
  pseudo_spec_n_fft: 1024
  pseudo_spec_hop_length: 120

  # DDSP Synthesizer
  ddsp_n_harmonics: 16

  # V/UV Detector
  vuv_detector_eps: 1e-8
  vuv_threshold: 0.5

model:
  # 基本損失重み
  w_cons: 10.0
  w_guide: 1.0
  w_pseudo: 10.0
  w_recon: 5.0
  w_bap: 0.1

  # ノイズロバスト損失重み
  w_aug: 1.0
  w_g_aug: 1.0
  w_ap: 1.0

  # 損失パラメータ
  hinge_margin: 0.5
  ged_alpha: 0.1
  epsilon: 0.001
  huber_delta: 1.0

  # F0境界値
  f0_min: 20.0
  f0_max: 2000.0

  # ノイズロバスト化
  noise_snr_db_min: -6.0
  noise_snr_db_max: 20.0
  volume_change_db_range: 6.0

train:
  batch_size: 5 # NOTE: SLASH論文では17
  eval_batch_size: 5
  log_epoch: 1
  eval_epoch: 2
  snapshot_epoch: 3
  stop_epoch: 4
  model_save_num: 2
  optimizer:
    name: "adamw"
    lr: 0.0002
  scheduler: { "name": "warmup", "warmup_steps": 10 }
  num_processes: 0
  use_gpu: false
  use_amp: false

project:
  name: "slash_test"
  category: "speech-processing"
